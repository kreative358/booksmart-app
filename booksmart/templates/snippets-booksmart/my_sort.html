{% load bootstrap4 %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<style type="text/css">

#container_sort {
position:relative;
width:560px; 
margin: 60px auto 0px auto;
max-width: 560px;
min-width: 560px;
z-index: 27;
left: 2px;
-webkit-backdrop-filter: blur(2px);
backdrop-filter: blur(2px);
background-color: rgba(100, 160, 220, 0.2);
padding:auto;
transition: 0.2s;
border-radius: 4px;
border: 6px solid rgba(100, 160, 220, 0.4);
box-shadow: 
0px 2px 2px 0px rgba(110, 170, 230, 0.4), 
0px 3px 3px 0px rgba(100, 160, 220, 0.6), 
0px 5px 4px 0px rgba(90, 150, 210, 0.4), 
0px 6px 5px 0px rgba(80, 140, 200, 0.6), 
0px 0px 12px 8px rgba(119, 120, 123, 0.4), 

}

#container_sort:hover {
transform: scale(1.01);
backdrop-filter: none;
background-color: rgb(100, 160, 220,); 
background-color: rgba(100, 160, 220, 0.6); 
box-shadow: 
1px 2px 2px 0px rgba(110, 170, 230, 0.4), 
-1px 3px 3px 0px rgba(100, 160, 220, 0.6), 
0px 5px 4px 0px rgba(90, 150, 210, 0.4), 
0px 6px 5px 0px rgba(80, 140, 200, 0.6), 
0px 0px 10px 8px rgba(229, 230, 243, 0.6);
}

#card_sort {
background-color: rgb(100, 160, 220,); 
background-color: rgba(100, 160, 220, 0.4); 
font-size: 18px;
color: white;
font-weight: bold;
padding: 10px 30px 6px 30px;
text-align: center;
transition: 0.2s;
justify-content:center;
margin:auto;
position:relative;
z-index: 28;
height:146px;

}

#card_sort:hover {
background-color: rgb(100, 160, 220,); 
background-color: rgba(100, 160, 220, 0.6); 
}  

#shadow_back {
background: rgba(100, 160, 240, 0.0); 
width: 570px; 
height:160px; 
z-index: 21;
position:absolute;
left:-25px; 
top:-5px;
border-radius:4px; }

.shadowback {
/*rgba(100, 160, 220, 0.4)*/
box-shadow: 0px 0px 2px 6px rgba(60, 160, 240, 0.0);
cursor:pointer;
} 

#bs_input_sort {
display: none;
background-color: rgba(220, 230, 240, 0.0);
border-radius: 2px;
padding:5px auto auto auto;
left: 50%;
width: 420px;
margin: 2px auto 5px -210px;
box-shadow: 0px 0px 4px 4px rgba(100, 160, 220, 0.0);  
font-size: 22px;
font-weight: bold;
overflow: hidden;
color: blue;

text-align:center;
border:none;
outline:none;
position:fixed;
z-index: 28;
}

#bs_input_sort:hover {
border:none;
outline:none;
}

#bs_input_sort:active {
border:none;
outline:none;
}

#bs_input_sort:focus {
border:none;
outline:none;
}

#div_button_sort {
width:146px;
height:60px; 
background:rgba(60, 160, 240, 0.0);
left:50%;
margin:46px auto -30px -70px; 
z-index: 22; 
position:absolute; 
}

.button_sort:hover {
box-shadow: 0px 0px 2px 6px rgba(220, 230, 240, 0.6);
}

#optiontext {
background-color: rgba(240, 230, 220, 0.0);
}

#optiontext:focus {
  font-weight:bold;
  }

#tringle_left {
float:left;
margin-left:10px;
}

#tringle_right {
float:right;
margin-right: 10px;}

.class_tringle {
color:rgba(0, 102, 255, 0.2);
text-shadow: 
-1px 0 rgba(0, 102, 255, 0.8),
1px 1px rgba(255, 255, 255, 0.9),
-1px -1px rgba(255, 255, 255, 0.9),
-1px 1px rgba(255, 255, 255, 0.9),
2px 1px 1px rgba(0, 102, 255, 0.9),
0px -1px 1px rgba(0, 102, 255, 0.9);
}

.anime_tringle {
rotate:180deg;
transition-duration: 0.4s forwords;
/*animation:mymove 0.2s;*/
/*transform: rotate(180deg);*/
}

@keyframes btnmove {
from {margin-top:50px;}
to {margin-top:200px;}
}
.btn_margin {
transition-duration: 1s;
/*animation:btnmove 1s ;*/
margin-top:200px;
}
/*.span3 {
/*transform: rotate(-180deg);
transition: 0.2s;
animation:mymove 0.2s;
}

@keyframes mymove {
from {rotate:180deg;}
to {rotate:0deg;}
}*/

#first_select_id {
box-shadow: 0px 0px 4px 4px rgba(0, 102, 255, 0.6);
background-color: rgba(230, 230, 240, 0.4);
outline:none;
z-index: 28;
position:absolute;
border-radius: 2px;
right:26px;
width:90%;
margin: -64px auto 10px auto;
color:blue;
height: 38px;
font-size: 22px;
transition:0.2s;
text-align:center;
cursor:pointer;
font-variant: small-caps;
}

#first_select_id:hover {
box-shadow: 0px 0px 4px 6px rgba(0, 102, 255, 0.6);
background-color: rgba(230, 230, 240, 0.6);
}

#first_select_id:active {
box-shadow: 0px 0px 2px 4px rgba(0, 102, 255, 0.8);
background-color: rgba(230, 230, 240, 0.8);

transform: matrix(0.98, 0, 0, 0.98, 2, 0);
}


.opacity {
opacity:0;
transition-duration:0.5s;}

#input_choice_sorting {

}
#formsort select,
#input_choice_sorting,
#input_choice_sorting option {
text-align:center;
border-radius: 4px;
position:relative;
z-index: 29;
color:blue;
border:none;
outline:none;
background-color: rgba(230, 230, 240, 0.8);
box-shadow: 0px 0px 2px 4px rgba(100, 160, 220, 0.6); 
padding:2px 4px 2px 8px;
font-size:20px;
font-weight:bold;
width: 400px;
margin:6px auto 6px auto;
/*left:50%;
margin: -3px auto 14px -190px;*/
padding-bottom: 6px;
transition: 0.2s;
cursor:pointer;
font-variant: small-caps;
}

#sortlist:active {
border:none;
outline:none;
}

#sortlist:focus {
box-shadow: 0px 0px 2px 4px rgba(100, 160, 220, 0.0);
border:none;
outline:none;
}

#input_choice_sorting > option:hover {
box-shadow: 0px 0px 4px 6px rgba(100, 160, 220, 0.6);
background: rgba(20, 60, 240, 0.8);
color:white;
}

#input_choice_sorting > option:active {
box-shadow: 
0px 0px 2px 2px rgba(100, 160, 220, 0.8),
0px 0px 2px 2px rgba(230, 230, 240, 0.8) inset;
transform: matrix(0.98, 0, 0, 0.98, 2, 0);
border:none;
outline:none;}

.btnsub1 {
position:relative;
left:50%;
/*top:20px;*/
margin:200px auto auto -70px;
display:block;
z-index: 27;
}


/*#button_sort, */
#button_sort_back {
left:50%;
/*top:0px;*/
margin:54px auto 0px -70px;
z-index: 24;
position:fixed;
}

select, .form-group, .form-control {
border:none;
outline:none;
}

select:focus, .form-group:focus, .form-control:focus {
border:none;
outline:none;
}

#anime_box {
z-index: 23;
background:#98bf21;
height:200px;
width:100px;
position:absolute;
display:none;
left:50%;
margin:-40px auto auto -50px;
}

</style>

<script>
  $(document).ready(function(){
    $("#first_select_id").click(function(){
    $("#shadow_back").toggleClass('shadowback');
     $(".button_sort").fadeToggle(500);
 // $(".btn_sort").animate({opacity: 'toggle'},500);
  $(".class_tringle").toggleClass('anime_tringle').css({"transition": "0.4s"});
      //$("#select").slideToggle(1000);
      $("#bs_input_sort").slideToggle(1000);
    });
  
   $("option").click(function(){
   //$("#my_modal").hide();
   $(".class_tringle").toggleClass('.anime_tringle').css({"transition": "0.4s"});
   $("#optiontext").text($(this).text());
      //$("#select").slideUp(1000); 
      $("#bs_input_sort").slideUp(1000);
      $(".button_sort").delay(500).fadeIn(1000);
   }); 
  
   $("#shadow_back").click(function(){
    //$("#sort_back1").toggleClass('sortback1');
   $("#optiontext").text("sort parameters - select one");
   $(".button_sort").delay(500).fadeIn(1000);
      //$("#select").slideUp(1000); 
      $("#bs_input_sort").slideUp(1000);
       $(".class_tringle").toggleClass('anime_tringle');
  });
  
  $('body > *:not(#container_sort)').click(function(){
    //$("#sort_back").hide();
   $("#optiontext").text("sort parameters - select one");
   $(".button_sort").delay(500).fadeIn(1000);
      $("#bs_input_sort").slideUp(1000, function(){
        $(".class_tringle").toggleClass('anime_tringle');
      }); 
    });
  });
  </script>

  <script>
    function validateForm() {
      var x = document.forms["formsort_name"]['sorting'].value;
      if (x == "" || x == null) {
        alert("sort parameters - select one: THIS IS NOT VALUE");
        return false;
      } //else {
    //alert("OK YOU CHOOSE OPTION WITH VALUE: " + x + 'form is submitted ;)');
   // }
    }
    </script>
    <div id="option_value"></div>
    <script>
    function PassValFunc() {
      var x = document.getElementById("bs_input_sort").value;
      document.getElementById("option_value").innerHTML = x;
    }
    </script>


    <div class="mycontainer_sort" id="my_container_sort" >
      <div class="mycard_sort" id="my_card_sort" >
        <div class="sortback" id="sort_back"></div>
   <div id="shadow_back" ></div>
{% if book_sort %}
  <div class="first_select_class" id="first_select_id"><span class="class_tringle" id="tringle_left">▼</span><span class="option_text" id="optiontext"> sort parameters - select one </span><span class="class_tringle" id="tringle_right">▲</span></div>

<!--<div id="select" name="select_name" class="class_select">-->

        <form action="/booksmartapp/booksmart-app/allrecords/" method="get" target="_blank" id="sortform" name="formsort_name" onsubmit="return validateForm()">
          {% bootstrap_form book_sort %} <!--bs_input_sort-->
          
        </form>
   <div id="button_sort_back" >
         <button form="sortform" id="button_sort" type="submit" class="button_sort btn btn-outline-primary text-danger" style="min-width:150px;  border: 6px solid; box-shadow: 0px 0px 4px 6px rgba(100, 160, 220, 0.6); font-size: 22px; font-weight: bold; text-align:center; text-justify:center; padding-top:2px; padding-bottom:2px; margin-top:6px;" >sort books</button> 
      </div>           
     </div>           
{% endif %} 
    </div>
